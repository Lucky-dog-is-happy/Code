#!/usr/bin/env bash

my_func() {
	local line=$1
	echo "(mapfile) called with line: $line"
}

mapfile -t -C my_func -c 1 foo < data.txt
# mapfile == readarray

printf '<%s>\n' "${foo[@]}"
